<!DOCTYPE html>
<!-- 
Developed originally by HM at 2023
Modified by JG on the 13.06.2024
-->

<html>
    <head>
        <title>
            MTMT Report Lists
        </title>
        <script>
            function go() {
                let year = document.getElementById("year").value
                let iid = document.getElementById("organization").value
                let url = `https://m2.mtmt.hu/api/publication?cond=publishedYear;eq;${year}&cond=institutes;inica;${iid}&cond=published;eq;true`
                let type = document.getElementById("type").value
                if (type.includes('scientific')) url+='&cond=category.mtid;eq;1'
                if (type.includes('full')) url+='&cond=fullPublication;eq;true'
                if (type.includes('wos_scopus')) url+='&cond=identifiers.source;in;1,3'
            
                document.getElementById("url").innerHTML=url
                document.getElementById("url").href=url
                document.getElementById("list").src=url
            }
        </script>
    </head>
    <body>
        <label for="year">Year:</label>
        <select name="year" id="year" onchange="go()">
            <option value="2024">2024</option>
            <option value="2023">2023</option>
            <option value="2022">2022</option>
            <option value="2021">2021</option>
            <option value="2020">2020</option>
        </select>

        <label for="organization">Organization:</label>
        <select name="organization" id="organization" onchange="go()">
            <option value="19962">SOE</option>

            <option disabled>________</option>
            <option value="19963">BPK</option>
            <optgroup>
                <option value="19965">MSTI</option>
                <option value="19966">NPI</option>
                <option value="19967">TSZKTI</option>
            </optgroup>

            <option disabled>________</option>
            <option value="21953">ERTI</option>
            <optgroup>
                <option value="21954">EVO</option>
                <option value="21955">NO</option>
                <option value="21956">ÖERO</option>
                <option value="21957">ÖKO</option>
                <option value="21958">ÜFO</option>
            </optgroup>

            <option disabled>________</option>
            <option value="19990">EMK</option>
            <optgroup>
                <option value="22517">ETEGI</option>
                <option value="22516">GKI</option>
                <option value="22518">KTI</option>
                <option value="22515">VVI</option>
            </optgroup>

            <option disabled>________</option>
            <option value="22389">FMK</option>
            <optgroup>
                <option value="23794">AI</option>
                <option value="23795">AT</option>
                <option value="23796">KI</option>
                <option value="23797">DK</option>
            </optgroup>

            <option disabled>________</option>
            <option value="19983">LKK</option>
            <optgroup>
                <option value="22510">KNKI</option>
                <option value="22513">LK</option>
                <option value="22512">ÖGI</option>
                <option value="22511">ÜTI</option>
            </optgroup>
        </select>

        <label for="type">Type:</label>
        <select name="type" id="type" onchange="go()">
            <option value="all">All</option>
            <option value="scientific">Scientific</option>
            <option value="scientific_full">Scientific full</option>
            <option value="scientific_full_wos_scopus">Scientific full & WoS/Scopus</option>
        </select>
        <hr />
        <a id="url" target="_blank"></a>
        <hr />
        <iframe id="list"  style="width: 100%; border: 0; margin: 0; padding: 0; min-height: 100vh;"   width="100%" height="100%" ></iframe>

        <script>
            go()
        </script>
    </body>
</html>

